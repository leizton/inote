# 简介
通过zk构建分布式系统
zk从文件系统api获得灵感, 提供一套简单的接口帮助应用实现多机器间的协作, 如选主、崩溃检测、管理组内成员关系、管理元数据
选主的过程其实是获取锁的过程
同一台机器上的多个进程和跨机器的多个进程区别不大
zk不适合存储大量应用数据
分布式进程的通信方式: 直接通过网络收发msg, 或读写共享存储
多主情况下, 备份主节点接管主主节点时, 不是简单地开始处理请求, 还需要恢复到旧主主节点的状态
当某些从节点无法与主主节点通信, 如出现错误的网络分区, 结果部分从节点与其他主节点建立主从关系, 这种情况称脑裂: 系统中出现多个独立工作的集群